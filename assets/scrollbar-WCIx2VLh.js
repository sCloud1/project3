import{J as ne,b as D,_ as W,u as I,r as re,h as fe,i as P,k as q,w as ie,Y as ve,U as J,E as Q}from"./index--RoxsW5K.js";import{g as U,a as de}from"./user-GNF1uiWY.js";import{K as B,P as me,k as m,y as E,E as pe,al as Z,o as b,l as T,w as R,b as u,n as h,O as M,a as H,M as he,s as ge,T as ce,c as G,e as x,F as ye,B as ee,V as te,G as be,Q as Se,D as we,$ as ke,m as V,Y as ze,N as j,af as Ee,L as ae}from"./index-A1qbNCIE.js";import{t as Ce}from"./event-1FCdoqwy.js";import{a as _e}from"./button-XMZ_UMB7.js";const Je=a=>["",...ne].includes(a),_=4,Te={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},He=({move:a,size:o,bar:l})=>({[l.size]:o,transform:`translate${l.axis}(${a}%)`}),ue=Symbol("scrollbarContextKey"),Be=D({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Le="Thumb",Pe=B({__name:"thumb",props:Be,setup(a){const o=a,l=me(ue),n=I("scrollbar");l||Ce(Le,"can not inject scrollbar context");const s=m(),f=m(),i=m({}),v=m(!1);let t=!1,p=!1,g=re?document.onselectstart:null;const r=E(()=>Te[o.vertical?"vertical":"horizontal"]),y=E(()=>He({size:o.size,move:o.move,bar:r.value})),w=E(()=>s.value[r.value.offset]**2/l.wrapElement[r.value.scrollSize]/o.ratio/f.value[r.value.offset]),k=c=>{var e;if(c.stopPropagation(),c.ctrlKey||[1,2].includes(c.button))return;(e=window.getSelection())==null||e.removeAllRanges(),K(c);const d=c.currentTarget;d&&(i.value[r.value.axis]=d[r.value.offset]-(c[r.value.client]-d.getBoundingClientRect()[r.value.direction]))},Y=c=>{if(!f.value||!s.value||!l.wrapElement)return;const e=Math.abs(c.target.getBoundingClientRect()[r.value.direction]-c[r.value.client]),d=f.value[r.value.offset]/2,z=(e-d)*100*w.value/s.value[r.value.offset];l.wrapElement[r.value.scroll]=z*l.wrapElement[r.value.scrollSize]/100},K=c=>{c.stopImmediatePropagation(),t=!0,document.addEventListener("mousemove",N),document.addEventListener("mouseup",C),g=document.onselectstart,document.onselectstart=()=>!1},N=c=>{if(!s.value||!f.value||t===!1)return;const e=i.value[r.value.axis];if(!e)return;const d=(s.value.getBoundingClientRect()[r.value.direction]-c[r.value.client])*-1,z=f.value[r.value.offset]-e,L=(d-z)*100*w.value/s.value[r.value.offset];l.wrapElement[r.value.scroll]=L*l.wrapElement[r.value.scrollSize]/100},C=()=>{t=!1,i.value[r.value.axis]=0,document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",C),O(),p&&(v.value=!1)},X=()=>{p=!1,v.value=!!o.size},F=()=>{p=!0,v.value=t};pe(()=>{O(),document.removeEventListener("mouseup",C)});const O=()=>{document.onselectstart!==g&&(document.onselectstart=g)};return U(Z(l,"scrollbarElement"),"mousemove",X),U(Z(l,"scrollbarElement"),"mouseleave",F),(c,e)=>(b(),T(ce,{name:u(n).b("fade"),persisted:""},{default:R(()=>[ge(H("div",{ref_key:"instance",ref:s,class:h([u(n).e("bar"),u(n).is(u(r).key)]),onMousedown:Y},[H("div",{ref_key:"thumb",ref:f,class:h(u(n).e("thumb")),style:M(u(y)),onMousedown:k},null,38)],34),[[he,c.always||v.value]])]),_:1},8,["name"]))}});var se=W(Pe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const Re=D({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),Me=B({__name:"bar",props:Re,setup(a,{expose:o}){const l=a,n=m(0),s=m(0);return o({handleScroll:i=>{if(i){const v=i.offsetHeight-_,t=i.offsetWidth-_;s.value=i.scrollTop*100/v*l.ratioY,n.value=i.scrollLeft*100/t*l.ratioX}}}),(i,v)=>(b(),G(ye,null,[x(se,{move:n.value,ratio:i.ratioX,size:i.width,always:i.always},null,8,["move","ratio","size","always"]),x(se,{move:s.value,ratio:i.ratioY,size:i.height,vertical:"",always:i.always},null,8,["move","ratio","size","always"])],64))}});var Ne=W(Me,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const Oe=D({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:fe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),$e={scroll:({scrollTop:a,scrollLeft:o})=>[a,o].every(P)},Ae="ElScrollbar",xe=B({name:Ae}),De=B({...xe,props:Oe,emits:$e,setup(a,{expose:o,emit:l}){const n=a,s=I("scrollbar");let f,i;const v=m(),t=m(),p=m(),g=m("0"),r=m("0"),y=m(),w=m(1),k=m(1),Y=E(()=>{const e={};return n.height&&(e.height=q(n.height)),n.maxHeight&&(e.maxHeight=q(n.maxHeight)),[n.wrapStyle,e]}),K=E(()=>[n.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!n.native}]),N=E(()=>[s.e("view"),n.viewClass]),C=()=>{var e;t.value&&((e=y.value)==null||e.handleScroll(t.value),l("scroll",{scrollTop:t.value.scrollTop,scrollLeft:t.value.scrollLeft}))};function X(e,d){Ee(e)?t.value.scrollTo(e):P(e)&&P(d)&&t.value.scrollTo(e,d)}const F=e=>{P(e)&&(t.value.scrollTop=e)},O=e=>{P(e)&&(t.value.scrollLeft=e)},c=()=>{if(!t.value)return;const e=t.value.offsetHeight-_,d=t.value.offsetWidth-_,z=e**2/t.value.scrollHeight,L=d**2/t.value.scrollWidth,$=Math.max(z,n.minSize),A=Math.max(L,n.minSize);w.value=z/(e-z)/($/(e-$)),k.value=L/(d-L)/(A/(d-A)),r.value=$+_<e?`${$}px`:"",g.value=A+_<d?`${A}px`:""};return ee(()=>n.noresize,e=>{e?(f==null||f(),i==null||i()):({stop:f}=de(p,c),i=U("resize",c))},{immediate:!0}),ee(()=>[n.maxHeight,n.height],()=>{n.native||te(()=>{var e;c(),t.value&&((e=y.value)==null||e.handleScroll(t.value))})}),be(ue,Se({scrollbarElement:v,wrapElement:t})),we(()=>{n.native||te(()=>{c()})}),ke(()=>c()),o({wrapRef:t,update:c,scrollTo:X,setScrollTop:F,setScrollLeft:O,handleScroll:C}),(e,d)=>(b(),G("div",{ref_key:"scrollbarRef",ref:v,class:h(u(s).b())},[H("div",{ref_key:"wrapRef",ref:t,class:h(u(K)),style:M(u(Y)),onScroll:C},[(b(),T(ze(e.tag),{id:e.id,ref_key:"resizeRef",ref:p,class:h(u(N)),style:M(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:R(()=>[V(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),e.native?j("v-if",!0):(b(),T(Ne,{key:0,ref_key:"barRef",ref:y,height:r.value,width:g.value,always:e.always,"ratio-x":k.value,"ratio-y":w.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var We=W(De,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const Qe=ie(We),S=new Map;let oe;re&&(document.addEventListener("mousedown",a=>oe=a),document.addEventListener("mouseup",a=>{for(const o of S.values())for(const{documentHandler:l}of o)l(a,oe)}));function le(a,o){let l=[];return Array.isArray(o.arg)?l=o.arg:ve(o.arg)&&l.push(o.arg),function(n,s){const f=o.instance.popperRef,i=n.target,v=s==null?void 0:s.target,t=!o||!o.instance,p=!i||!v,g=a.contains(i)||a.contains(v),r=a===i,y=l.length&&l.some(k=>k==null?void 0:k.contains(i))||l.length&&l.includes(v),w=f&&(f.contains(i)||f.contains(v));t||p||g||r||y||w||o.value(n,s)}}const Ze={beforeMount(a,o){S.has(a)||S.set(a,[]),S.get(a).push({documentHandler:le(a,o),bindingFn:o.value})},updated(a,o){S.has(a)||S.set(a,[]);const l=S.get(a),n=l.findIndex(f=>f.bindingFn===o.oldValue),s={documentHandler:le(a,o),bindingFn:o.value};n>=0?l.splice(n,1,s):l.push(s)},unmounted(a){S.delete(a)}},Ye=D({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:ne,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Ke={close:a=>a instanceof MouseEvent,click:a=>a instanceof MouseEvent},Xe=B({name:"ElTag"}),Fe=B({...Xe,props:Ye,emits:Ke,setup(a,{emit:o}){const l=a,n=_e(),s=I("tag"),f=E(()=>{const{type:t,hit:p,effect:g,closable:r,round:y}=l;return[s.b(),s.is("closable",r),s.m(t),s.m(n.value),s.m(g),s.is("hit",p),s.is("round",y)]}),i=t=>{o("close",t)},v=t=>{o("click",t)};return(t,p)=>t.disableTransitions?(b(),G("span",{key:0,class:h(u(f)),style:M({backgroundColor:t.color}),onClick:v},[H("span",{class:h(u(s).e("content"))},[V(t.$slots,"default")],2),t.closable?(b(),T(u(Q),{key:0,class:h(u(s).e("close")),onClick:ae(i,["stop"])},{default:R(()=>[x(u(J))]),_:1},8,["class","onClick"])):j("v-if",!0)],6)):(b(),T(ce,{key:1,name:`${u(s).namespace.value}-zoom-in-center`,appear:""},{default:R(()=>[H("span",{class:h(u(f)),style:M({backgroundColor:t.color}),onClick:v},[H("span",{class:h(u(s).e("content"))},[V(t.$slots,"default")],2),t.closable?(b(),T(u(Q),{key:0,class:h(u(s).e("close")),onClick:ae(i,["stop"])},{default:R(()=>[x(u(J))]),_:1},8,["class","onClick"])):j("v-if",!0)],6)]),_:3},8,["name"]))}});var Ue=W(Fe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const et=ie(Ue);export{Ze as C,Qe as E,et as a,Je as i,Ye as t};
