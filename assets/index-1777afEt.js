/* empty css             */import{v as U}from"./loading-cTs21jjr.js";import{E as W}from"./button-XMZ_UMB7.js";import{E as J}from"./input-number-WdfP4h7c.js";import"./input-qP50BFt2.js";import{_ as C,k as p,W as K,B as N,o as n,c as r,a as e,s as I,M as V,b as D,O as P,F as L,g as S,n as Q,x as X,r as Z,t,l as ee,w as b,y as se,q as te,e as d,X as ae,d as f,p as oe,f as le,h as ne}from"./index-A1qbNCIE.js";import{E as ie,a as ce}from"./breadcrumb-item-Qrsn7pTQ.js";import{r as F,E as z}from"./user-GNF1uiWY.js";import{u as ue}from"./cart-riX8gy7w.js";import"./index--RoxsW5K.js";import"./index-fh7mSV5F.js";import"./event-1FCdoqwy.js";import"./isNil--q_uwI5T.js";const de={class:"goods-image"},re=["src"],_e={class:"small"},pe=["onMouseenter"],ve=["src"],me={__name:"ImageView",props:{imageList:{type:Array,default:()=>[]}},setup(a){const _=p(0),m=p(null),{elementX:s,elementY:i,isOutside:g}=K(m),c=p(0),h=p(0),o=p(0),x=p(0);return N([s,i,g],()=>{g.value||(s.value<100&&(c.value=0),s.value>300&&(c.value=200),s.value>=100&&s.value<=300&&(c.value=s.value-100),i.value<100&&(h.value=0),i.value>300&&(h.value=200),i.value>=100&&i.value<=300&&(h.value=i.value-100),o.value=-2*c.value,x.value=-2*h.value)}),(w,k)=>(n(),r("div",de,[e("div",{class:"middle",ref_key:"target",ref:m},[e("img",{src:a.imageList[_.value],alt:""},null,8,re),I(e("div",{class:"layer",style:P({left:`${c.value}px`,top:`${h.value}px`})},null,4),[[V,!D(g)]])],512),e("ul",_e,[(n(!0),r(L,null,S(a.imageList,(y,u)=>(n(),r("li",{key:u,onMouseenter:E=>_.value=u,class:Q({active:_.value===u})},[e("img",{src:y,alt:""},null,8,ve)],42,pe))),128))]),I(e("div",{class:"large",style:P([{backgroundImage:`url(${a.imageList[_.value]})`,backgroundPositionX:`${o.value}px`,backgroundPositionY:`${x.value}px`}])},null,4),[[V,!D(g)]])]))}},ge=C(me,[["__scopeId","data-v-8b0db791"]]),he=a=>F.get("/goods",{params:{id:a}}),fe=({id:a,type:_,limit:m=3})=>F("/goods/hot",{params:{id:a,type:_,limit:m}}),ye={class:"goods-hot"},be=["src"],ke={class:"name ellipsis"},$e={class:"desc ellipsis"},xe={class:"price"},Ie={__name:"HotList",props:{hotType:{type:[String,Number]}},setup(a){const _=X(),m=a,s=p([]);return(async()=>{const g=await fe(_.params.id,m.hotType);s.value=g.data.result})(),(g,c)=>{const h=Z("RouterLink");return n(),r("div",ye,[e("h3",null,t(a.hotType===1?"24小时":"周日")+"热销榜单",1),(n(!0),r(L,null,S(s.value,o=>(n(),ee(h,{to:`/detail/${o.id}`,class:"goods-item",key:o.id},{default:b(()=>[e("img",{src:o.picture,alt:""},null,8,be),e("p",ke,t(o.name),1),e("p",$e,t(o.desc),1),e("p",xe,"¥"+t(o.price),1)]),_:2},1032,["to"]))),128))])}}},M=C(Ie,[["__scopeId","data-v-a16ac9a4"]]),v=a=>(oe("data-v-29623790"),a=a(),le(),a),Le={class:"xtx-goods-page"},Se={class:"container"},Ce={class:"bread-container"},we={class:"info-container"},Ee={class:"goods-info"},Ae={class:"media"},Be={class:"goods-sales"},He=v(()=>e("p",null,"销量人气",-1)),Te=v(()=>e("p",null,[e("i",{class:"iconfont icon-task-filling"}),f("销量人气")],-1)),Ve=v(()=>e("p",null,"商品评价",-1)),De=v(()=>e("p",null,[e("i",{class:"iconfont icon-comment-filling"}),f("查看评价")],-1)),Pe=v(()=>e("p",null,"收藏人气",-1)),ze=v(()=>e("p",null,[e("i",{class:"iconfont icon-favorite-filling"}),f("收藏商品")],-1)),Me=v(()=>e("p",null,"品牌信息",-1)),Ne=v(()=>e("p",null,[e("i",{class:"iconfont icon-dynamic-filling"}),f("品牌主页")],-1)),Xe={class:"spec"},Fe={class:"g-name"},Ge={class:"g-desc"},Oe={class:"g-price"},Re=v(()=>e("div",{class:"g-service"},[e("dl",null,[e("dt",null,"促销"),e("dd",null,"12月好物放送，App领券购买直降120元")]),e("dl",null,[e("dt",null,"服务"),e("dd",null,[e("span",null,"无忧退货"),e("span",null,"快速退款"),e("span",null,"免费包邮"),e("a",{href:"javascript:;"},"了解详情")])])],-1)),Ye={class:"goods-footer"},je={class:"goods-article"},qe={class:"goods-tabs"},Ue=v(()=>e("nav",null,[e("a",null,"商品详情")],-1)),We={class:"goods-detail"},Je={class:"attrs"},Ke={class:"dt"},Qe={class:"dd"},Ze={class:"goods-aside"},es={__name:"index",setup(a){const _=X(),m=se(()=>_.params.id),s=p({}),i=p(!1),g=async()=>{var u;i.value=!0;const k=await he(m.value);s.value=k.data.result,i.value=!1,ne().changeActiveStatus((u=s.value.categories)==null?void 0:u[0].parent.id)};N(m,()=>g(),{immediate:!0});let c={};const h=k=>{c=k},o=p(1),x=ue(),w=()=>{c.skuId?(x.addCart({id:s.value.id,name:s.value.name,picture:s.value.mainPictures[0],price:s.value.price,count:o.value,skuId:c.skuId,attrsText:c.specsText,selected:!0}),z({type:"success",message:"添加成功",duration:1e3})):z({type:"warning",message:"请选择规格",duration:1e3})};return(k,y)=>{var A,B,H;const u=ce,E=ie,G=ge,O=ae,R=J,Y=W,j=U,q=te("img-lazy");return n(),r("div",Le,[e("div",Se,[e("div",Ce,[d(E,{separator:">"},{default:b(()=>{var l,T;return[d(u,{to:{path:"/"}},{default:b(()=>[f("首页")]),_:1}),d(u,{to:{path:`/category/${(l=s.value.categories)==null?void 0:l[0].parent.id}`}},{default:b(()=>{var $;return[f(t(($=s.value.categories)==null?void 0:$[0].parent.name),1)]}),_:1},8,["to"]),d(u,{to:{path:`/category/sub/${(T=s.value.categories)==null?void 0:T[0].id}`}},{default:b(()=>{var $;return[f(t(($=s.value.categories)==null?void 0:$[0].name),1)]}),_:1},8,["to"]),d(u,null,{default:b(()=>[f(t(s.value.name),1)]),_:1})]}),_:1})]),e("div",we,[e("div",null,[I((n(),r("div",Ee,[e("div",Ae,[d(G,{imageList:s.value.mainPictures},null,8,["imageList"]),e("ul",Be,[e("li",null,[He,e("p",null,t(s.value.salesCount)+"+ ",1),Te]),e("li",null,[Ve,e("p",null,t(s.value.commentCount)+"+",1),De]),e("li",null,[Pe,e("p",null,t(s.value.collectCount)+"+",1),ze]),e("li",null,[Me,e("p",null,t((A=s.value.brand)==null?void 0:A.name),1),Ne])])]),e("div",Xe,[e("p",Fe,t(s.value.name),1),e("p",Ge,t(s.value.desc),1),e("p",Oe,[e("span",null,t(s.value.price),1),e("span",null,t(s.value.oldPrice),1)]),Re,d(O,{goods:s.value,onChange:h},null,8,["goods"]),d(R,{modelValue:o.value,"onUpdate:modelValue":y[0]||(y[0]=l=>o.value=l),min:1,onChange:y[1]||(y[1]=l=>o.value=l)},null,8,["modelValue"]),e("div",null,[d(Y,{size:"large",class:"btn",onClick:w},{default:b(()=>[f(" 加入购物车 ")]),_:1})])])])),[[j,i.value]]),e("div",Ye,[e("div",je,[e("div",qe,[Ue,e("div",We,[e("ul",Je,[(n(!0),r(L,null,S((B=s.value.details)==null?void 0:B.properties,l=>(n(),r("li",{key:l.value},[e("span",Ke,t(l.name),1),e("span",Qe,t(l.value),1)]))),128))]),(n(!0),r(L,null,S((H=s.value.details)==null?void 0:H.pictures,l=>I((n(),r("img",{key:l,alt:""})),[[q,l]])),128))])])]),e("div",Ze,[d(M,{hotType:1}),d(M,{hotType:2})])])])])])])}}},vs=C(es,[["__scopeId","data-v-29623790"]]);export{vs as default};
